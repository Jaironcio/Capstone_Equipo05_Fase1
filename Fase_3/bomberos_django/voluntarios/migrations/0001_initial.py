# Generated by Django 5.0 on 2025-11-12 06:41

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Beneficio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=200)),
                ('descripcion', models.TextField()),
                ('monto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('estado', models.CharField(choices=[('activo', 'Activo'), ('inactivo', 'Inactivo')], default='activo', max_length=20)),
                ('cupos_totales', models.IntegerField(blank=True, null=True)),
                ('cupos_disponibles', models.IntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Beneficio',
                'verbose_name_plural': 'Beneficios',
                'ordering': ['nombre'],
            },
        ),
        migrations.CreateModel(
            name='TipoAsistencia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=100, unique=True)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('activo', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name': 'Tipo de Asistencia',
                'verbose_name_plural': 'Tipos de Asistencia',
                'ordering': ['nombre'],
            },
        ),
        migrations.CreateModel(
            name='Uniforme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo', models.CharField(max_length=20, unique=True)),
                ('tipo', models.CharField(choices=[('estructural', 'Estructural'), ('forestal', 'Forestal'), ('rescate', 'Rescate')], max_length=20)),
                ('condicion', models.CharField(choices=[('nuevo', 'Nuevo'), ('usado', 'Usado')], max_length=20)),
                ('estado_fisico', models.CharField(choices=[('buen_estado', 'Buen Estado'), ('mal_estado', 'Mal Estado')], max_length=20)),
                ('disponible', models.BooleanField(default=True)),
                ('tiene_jardinera', models.BooleanField(default=False)),
                ('tiene_chaqueta', models.BooleanField(default=False)),
                ('tiene_casco', models.BooleanField(default=False)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Uniforme',
                'verbose_name_plural': 'Uniformes',
                'ordering': ['codigo'],
            },
        ),
        migrations.CreateModel(
            name='AsignacionBeneficio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_asignacion', models.DateField()),
                ('monto_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('monto_pagado', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('estado_pago', models.CharField(choices=[('pendiente', 'Pendiente'), ('parcial', 'Parcial'), ('completo', 'Completo'), ('cancelado', 'Cancelado')], default='pendiente', max_length=20)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('beneficio', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='voluntarios.beneficio')),
            ],
            options={
                'verbose_name': 'Asignación de Beneficio',
                'verbose_name_plural': 'Asignaciones de Beneficios',
                'ordering': ['-fecha_asignacion'],
            },
        ),
        migrations.CreateModel(
            name='Cuota',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mes', models.IntegerField()),
                ('anio', models.IntegerField()),
                ('monto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Cuota',
                'verbose_name_plural': 'Cuotas',
                'ordering': ['-anio', '-mes'],
                'unique_together': {('mes', 'anio')},
            },
        ),
        migrations.CreateModel(
            name='PagoBeneficio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_pago', models.DateField()),
                ('monto', models.DecimalField(decimal_places=2, max_digits=10)),
                ('metodo_pago', models.CharField(blank=True, max_length=50, null=True)),
                ('numero_comprobante', models.CharField(blank=True, max_length=100, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('asignacion', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pagos', to='voluntarios.asignacionbeneficio')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Pago de Beneficio',
                'verbose_name_plural': 'Pagos de Beneficios',
                'ordering': ['-fecha_pago'],
            },
        ),
        migrations.CreateModel(
            name='Voluntario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=100)),
                ('apellido_paterno', models.CharField(max_length=100)),
                ('apellido_materno', models.CharField(blank=True, max_length=100, null=True)),
                ('rut', models.CharField(max_length=12, unique=True, validators=[django.core.validators.MinLengthValidator(9)])),
                ('clave_bombero', models.CharField(max_length=20, unique=True)),
                ('fecha_nacimiento', models.DateField()),
                ('domicilio', models.CharField(blank=True, max_length=255, null=True)),
                ('telefono', models.CharField(blank=True, max_length=20, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('profesion', models.CharField(blank=True, max_length=100, null=True)),
                ('grupo_sanguineo', models.CharField(blank=True, max_length=5, null=True)),
                ('fecha_ingreso', models.DateField()),
                ('nro_registro', models.CharField(blank=True, max_length=50, null=True)),
                ('compania', models.CharField(blank=True, max_length=100, null=True)),
                ('estado_bombero', models.CharField(choices=[('activo', 'Activo'), ('inactivo', 'Inactivo'), ('renunciado', 'Renunciado'), ('separado', 'Separado'), ('expulsado', 'Expulsado'), ('martir', 'Mártir'), ('fallecido', 'Fallecido')], default='activo', max_length=20)),
                ('fecha_renuncia', models.DateField(blank=True, null=True)),
                ('motivo_renuncia', models.TextField(blank=True, null=True)),
                ('oficionum_renuncia', models.CharField(blank=True, max_length=100, null=True)),
                ('documento_renuncia', models.FileField(blank=True, null=True, upload_to='renuncias/')),
                ('fecha_separacion', models.DateField(blank=True, null=True)),
                ('anios_separacion', models.IntegerField(blank=True, null=True)),
                ('fecha_fin_separacion', models.DateField(blank=True, null=True)),
                ('motivo_separacion', models.TextField(blank=True, null=True)),
                ('oficionum_separacion', models.CharField(blank=True, max_length=100, null=True)),
                ('documento_separacion', models.FileField(blank=True, null=True, upload_to='separaciones/')),
                ('fecha_expulsion', models.DateField(blank=True, null=True)),
                ('motivo_expulsion', models.TextField(blank=True, null=True)),
                ('oficionum_expulsion', models.CharField(blank=True, max_length=100, null=True)),
                ('documento_expulsion', models.FileField(blank=True, null=True, upload_to='expulsiones/')),
                ('fecha_martir', models.DateField(blank=True, null=True)),
                ('causa_martir', models.TextField(blank=True, null=True)),
                ('oficionum_martir', models.CharField(blank=True, max_length=100, null=True)),
                ('documento_martir', models.FileField(blank=True, null=True, upload_to='martires/')),
                ('fecha_fallecimiento', models.DateField(blank=True, null=True)),
                ('causa_fallecimiento', models.TextField(blank=True, null=True)),
                ('oficionum_fallecimiento', models.CharField(blank=True, max_length=100, null=True)),
                ('documento_fallecimiento', models.FileField(blank=True, null=True, upload_to='fallecimientos/')),
                ('antiguedad_congelada', models.BooleanField(default=False)),
                ('fecha_congelamiento', models.DateField(blank=True, null=True)),
                ('fecha_descongelamiento', models.DateField(blank=True, null=True)),
                ('foto', models.ImageField(blank=True, null=True, upload_to='fotos/')),
                ('cuotas_activas', models.BooleanField(default=True)),
                ('fecha_cambio_cuotas', models.DateTimeField(blank=True, null=True)),
                ('es_estudiante', models.BooleanField(default=False)),
                ('fecha_inicio_estudiante', models.DateField(blank=True, null=True)),
                ('fecha_fin_estudiante', models.DateField(blank=True, null=True)),
                ('certificado_estudiante', models.FileField(blank=True, null=True, upload_to='certificados/')),
                ('fecha_activacion_estudiante', models.DateTimeField(blank=True, null=True)),
                ('historial_estados', models.JSONField(blank=True, default=list)),
                ('historial_reintegraciones', models.JSONField(blank=True, default=list)),
                ('posicion_por_antiguedad', models.IntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='voluntarios_creados', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Voluntario',
                'verbose_name_plural': 'Voluntarios',
                'ordering': ['fecha_ingreso'],
            },
        ),
        migrations.CreateModel(
            name='Sancion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_sancion', models.CharField(choices=[('suspension', 'Suspensión'), ('renuncia', 'Renuncia'), ('separacion', 'Separación'), ('expulsion', 'Expulsión')], max_length=20)),
                ('compania_autoridad', models.CharField(blank=True, max_length=100, null=True)),
                ('autoridad_sancionatoria', models.CharField(blank=True, max_length=100, null=True)),
                ('fecha_desde', models.DateField()),
                ('dias_sancion', models.IntegerField(blank=True, null=True)),
                ('fecha_hasta', models.DateField(blank=True, null=True)),
                ('oficio_numero', models.CharField(max_length=100)),
                ('fecha_oficio', models.DateField()),
                ('motivo', models.TextField()),
                ('documento_oficio', models.FileField(blank=True, null=True, upload_to='sanciones/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('voluntario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sanciones', to='voluntarios.voluntario')),
            ],
            options={
                'verbose_name': 'Sanción',
                'verbose_name_plural': 'Sanciones',
                'ordering': ['-fecha_desde'],
            },
        ),
        migrations.CreateModel(
            name='PagoCuota',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_pago', models.DateField()),
                ('monto_pagado', models.DecimalField(decimal_places=2, max_digits=10)),
                ('metodo_pago', models.CharField(blank=True, max_length=50, null=True)),
                ('numero_comprobante', models.CharField(blank=True, max_length=100, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('cuota', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='voluntarios.cuota')),
                ('voluntario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pagos_cuotas', to='voluntarios.voluntario')),
            ],
            options={
                'verbose_name': 'Pago de Cuota',
                'verbose_name_plural': 'Pagos de Cuotas',
                'ordering': ['-fecha_pago'],
            },
        ),
        migrations.CreateModel(
            name='Felicitacion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('motivo', models.TextField()),
                ('fecha', models.DateField()),
                ('otorgado_por', models.CharField(max_length=200)),
                ('documento', models.FileField(blank=True, null=True, upload_to='felicitaciones/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('voluntario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='felicitaciones', to='voluntarios.voluntario')),
            ],
            options={
                'verbose_name': 'Felicitación',
                'verbose_name_plural': 'Felicitaciones',
                'ordering': ['-fecha'],
            },
        ),
        migrations.CreateModel(
            name='EntregaUniforme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_entrega', models.DateField()),
                ('fecha_devolucion', models.DateField(blank=True, null=True)),
                ('estado_entrega', models.CharField(blank=True, max_length=20, null=True)),
                ('estado_devolucion', models.CharField(blank=True, max_length=20, null=True)),
                ('observaciones_entrega', models.TextField(blank=True, null=True)),
                ('observaciones_devolucion', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('uniforme', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='entregas', to='voluntarios.uniforme')),
                ('voluntario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='uniformes_recibidos', to='voluntarios.voluntario')),
            ],
            options={
                'verbose_name': 'Entrega de Uniforme',
                'verbose_name_plural': 'Entregas de Uniformes',
                'ordering': ['-fecha_entrega'],
            },
        ),
        migrations.CreateModel(
            name='Cargo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_cargo', models.CharField(choices=[('comandancia', 'Comandancia'), ('compania', 'Compañía'), ('consejo', 'Consejo de Compañía'), ('tecnico', 'Confianza')], max_length=20)),
                ('nombre_cargo', models.CharField(max_length=100)),
                ('anio', models.IntegerField()),
                ('fecha_inicio', models.DateField(blank=True, null=True)),
                ('fecha_fin', models.DateField(blank=True, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('voluntario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cargos', to='voluntarios.voluntario')),
            ],
            options={
                'verbose_name': 'Cargo',
                'verbose_name_plural': 'Cargos',
                'ordering': ['-anio', '-fecha_inicio'],
            },
        ),
        migrations.AddField(
            model_name='asignacionbeneficio',
            name='voluntario',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='beneficios_asignados', to='voluntarios.voluntario'),
        ),
        migrations.CreateModel(
            name='Asistencia',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_hora', models.DateTimeField()),
                ('presente', models.BooleanField(default=True)),
                ('justificada', models.BooleanField(default=False)),
                ('motivo_inasistencia', models.TextField(blank=True, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('tipo_asistencia', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='voluntarios.tipoasistencia')),
                ('voluntario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='asistencias', to='voluntarios.voluntario')),
            ],
            options={
                'verbose_name': 'Asistencia',
                'verbose_name_plural': 'Asistencias',
                'ordering': ['-fecha_hora'],
                'unique_together': {('voluntario', 'tipo_asistencia', 'fecha_hora')},
            },
        ),
    ]
